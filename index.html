<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ulang Tahun Cuy</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #3c2f2a;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            width: 100%;
            max-width: 500px;
            padding: 20px;
            /* Menyesuaikan untuk memastikan semua elemen terlihat dalam satu layar tanpa scroll */
            height: 100vh;
            justify-content: space-around;
        }

        .background-balloons {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .float-balloon {
            position: absolute;
            width: 120px;
            height: auto;
            animation: floatUpAndDisappear 15s linear infinite;
            opacity: 0.8;
        }

        @keyframes floatUpAndDisappear {
            0% {
                bottom: -150px;
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                bottom: 100%;
                opacity: 0;
            }
        }

        /* Mengubah urutan tampilan dengan menempatkan kue di atas dan balon di bawah */
        .content-order {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .cake {
            width: 240px;
            height: auto;
            margin-bottom: 15px;
            /* Dipindahkan ke atas */
            order: 1;
        }

        .button {
            background-color: #987654;
            border: none;
            border-radius: 20px;
            padding: 18px 35px;
            margin: 15px 0;
            cursor: pointer;
            position: relative;
            z-index: 10;
            width: 280px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            /* Dipindahkan ke tengah */
            order: 2;
        }

        .button-text {
            color: #f5f0ea;
            font-size: 36px;
            font-weight: bold;
            margin: 0;
            text-align: center;
        }

        .balloons-container {
            position: relative;
            width: 100%;
            max-width: 320px;
            height: 200px;
            /* Dipindahkan ke bawah */
            order: 3;
            margin-top: 15px;
        }

        .balloon {
            position: absolute;
            width: 100px;
            height: auto;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .balloon-left {
            left: 0;
            top: 30px;
        }

        .balloon-middle {
            left: 50%;
            transform: translateX(-50%);
            top: 0;
        }

        .balloon-right {
            right: 0;
            top: 30px;
        }

        .confetti {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        /* Confetti elements */
        .star {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #c9a992;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            opacity: 0.8;
        }

        .streamer {
            position: absolute;
            width: 10px;
            height: 30px;
            border-radius: 5px;
            background-color: #c9a992;
            opacity: 0.8;
        }

        .dot {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #c9a992;
            opacity: 0.8;
        }

        .squiggle {
            position: absolute;
            width: 30px;
            height: 30px;
            border: 3px solid #c9a992;
            border-radius: 50% 50% 0 50%;
            border-right-color: transparent;
            transform: rotate(45deg);
            opacity: 0.8;
        }

        .pop {
            animation: pop 0.5s ease;
            opacity: 0;
            pointer-events: none;
        }

        @keyframes pop {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.5; }
            100% { transform: scale(0); opacity: 0; }
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes sway {
            0% { transform: rotate(-10deg); }
            50% { transform: rotate(10deg); }
            100% { transform: rotate(-10deg); }
        }

        .particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            pointer-events: none;
        }

        /* Menyembunyikan elemen audio */
        .hidden-audio {
            display: none;
        }

        /* Media queries untuk responsivitas */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .button {
                width: 90%;
                max-width: 280px;
            }
            
            .button-text {
                font-size: 32px;
            }
            
            .cake {
                width: 220px;
            }
            
            .balloon {
                width: 90px;
            }
        }

        @media (max-width: 480px) {
            .balloons-container {
                height: 180px;
            }
            
            .button-text {
                font-size: 28px;
            }
            
            .cake {
                width: 180px;
            }
            
            .balloon {
                width: 75px;
            }
        }

        /* Untuk layar yang sangat kecil */
        @media (max-height: 600px) {
            .cake {
                width: 160px;
                margin-bottom: 10px;
            }
            
            .button {
                padding: 12px 25px;
                margin: 10px 0;
            }
            
            .button-text {
                font-size: 24px;
            }
            
            .balloon {
                width: 65px;
            }
            
            .balloons-container {
                height: 160px;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="background-balloons" id="background-balloons"></div>
    <div class="confetti" id="confetti"></div>
    
    <!-- Audio element dengan autoplay, loop, dan class hidden-audio -->
    <audio id="bgMusic" class="hidden-audio" autoplay loop>
        <source src="happy-birthday-322777.mp3" type="audio/mpeg">
    </audio>
    
    <div class="container">
        <div class="content-order">
            <!-- Memindahkan kue ke atas -->
            <img class="cake" src="ChatGPT Image 12 Apr 2025, 22.38.31.png" alt="Birthday Cake">
            
            <!-- Tombol di tengah -->
            <button class="button" onclick="celebrateAndNavigate()">
                <p class="button-text">selamat<br>ulang tahun</p>
            </button>
            
            <!-- Balon di bawah -->
            <div class="balloons-container">
                <img id="balloon1" class="balloon balloon-left" src="ChatGPT Image Apr 12, 2025, 11_19_05 PM.png" alt="Brown Balloon" onclick="popBalloon(this)">
                <img id="balloon2" class="balloon balloon-middle" src="ChatGPT Image Apr 12, 2025, 11_19_08 PM.png" alt="Dark Brown Balloon" onclick="popBalloon(this)">
                <img id="balloon3" class="balloon balloon-right" src="ChatGPT Image Apr 12, 2025, 11_19_10 PM.png" alt="Light Brown Balloon" onclick="popBalloon(this)">
            </div>
        </div>
    </div>

    <script>
        // Balloon colors for background animation
        const balloonColors = [
            {src: 'ChatGPT Image Apr 12, 2025, 11_19_05 PM.png', color: '#6366f1'}, // Blue
            {src: 'ChatGPT Image Apr 12, 2025, 11_19_08 PM.png', color: '#ef4444'}, // Red
            {src: 'ChatGPT Image Apr 12, 2025, 11_19_10 PM.png', color: '#4ade80'}  // Green
        ];
        
        // Create background balloons
        function createBackgroundBalloons() {
            const container = document.getElementById('background-balloons');
            
            // Create 15 balloons with staggered animation
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    createFloatingBalloon(container, i);
                }, i * 1000); // Start each balloon 1 second apart
            }
        }
        
        function createFloatingBalloon(container, index) {
            const balloon = document.createElement('img');
            const balloonType = balloonColors[Math.floor(Math.random() * balloonColors.length)];
            
            balloon.src = balloonType.src;
            balloon.className = 'float-balloon';
            balloon.alt = 'Floating Balloon';
            
            // Random horizontal position
            const leftPos = Math.random() * 90; // 0-90% from left
            balloon.style.left = `${leftPos}%`;
            
            // Random size (80px to 150px)
            const size = 80 + Math.random() * 70;
            balloon.style.width = `${size}px`;
            
            // Random animation duration (15-25 seconds)
            const duration = 15 + Math.random() * 10;
            balloon.style.animationDuration = `${duration}s`;
            
            // Random animation delay
            balloon.style.animationDelay = `${Math.random() * 5}s`;
            
            container.appendChild(balloon);
            
            // Remove and recreate balloon after animation completes
            setTimeout(() => {
                balloon.remove();
                createFloatingBalloon(container, index);
            }, (duration + 5) * 1000); // Add 5 seconds to account for any delay
        }
        
        // Initialize confetti elements
        function createConfettiElements() {
            const confettiContainer = document.getElementById('confetti');
            confettiContainer.innerHTML = '';
            
            // Create stars
            for (let i = 0; i < 20; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.transform = `rotate(${Math.random() * 360}deg)`;
                star.style.animation = `float ${5 + Math.random() * 5}s infinite, spin ${10 + Math.random() * 10}s infinite linear`;
                confettiContainer.appendChild(star);
            }
            
            // Create streamers
            for (let i = 0; i < 20; i++) {
                const streamer = document.createElement('div');
                streamer.className = 'streamer';
                streamer.style.left = `${Math.random() * 100}%`;
                streamer.style.top = `${Math.random() * 100}%`;
                streamer.style.transform = `rotate(${Math.random() * 360}deg)`;
                streamer.style.animation = `sway ${3 + Math.random() * 5}s infinite`;
                confettiContainer.appendChild(streamer);
            }
            
            // Create dots
            for (let i = 0; i < 40; i++) {
                const dot = document.createElement('div');
                dot.className = 'dot';
                dot.style.left = `${Math.random() * 100}%`;
                dot.style.top = `${Math.random() * 100}%`;
                dot.style.animation = `float ${3 + Math.random() * 7}s infinite`;
                confettiContainer.appendChild(dot);
            }
            
            // Create squiggles
            for (let i = 0; i < 15; i++) {
                const squiggle = document.createElement('div');
                squiggle.className = 'squiggle';
                squiggle.style.left = `${Math.random() * 100}%`;
                squiggle.style.top = `${Math.random() * 100}%`;
                squiggle.style.animation = `spin ${7 + Math.random() * 7}s infinite linear`;
                confettiContainer.appendChild(squiggle);
            }
        }
        
        // Pop balloon function
        function popBalloon(balloon) {
            // Play pop sound
            const popSound = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==');
            popSound.play();
            
            // Create explosion particles
            const balloonRect = balloon.getBoundingClientRect();
            const centerX = balloonRect.left + balloonRect.width / 2;
            const centerY = balloonRect.top + balloonRect.height / 2;
            
            // Get balloon color from the image
            const balloonColor = getBalloonColor(balloon.id);
            
            // Create particles
            for (let i = 0; i < 30; i++) {
                createParticle(centerX, centerY, balloonColor);
            }
            
            // Hide the balloon
            balloon.classList.add('pop');
        }
        
        // Get balloon color based on ID
        function getBalloonColor(id) {
            switch(id) {
                case 'balloon1': return '#6366f1'; // Blue
                case 'balloon2': return '#ef4444'; // Red
                case 'balloon3': return '#4ade80'; // Green
                default: return '#c9a992';
            }
        }
        
        // Create explosion particle
        function createParticle(x, y, color) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.backgroundColor = color;
            document.body.appendChild(particle);
            
            // Set initial position
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;
            
            // Random speed and direction
            const angle = Math.random() * Math.PI * 2;
            const speed = 1 + Math.random() * 3;
            const dx = Math.cos(angle) * speed;
            const dy = Math.sin(angle) * speed;
            
            // Animation variables
            let posX = x;
            let posY = y;
            let opacity = 1;
            let scale = 1;
            const gravity = 0.1;
            let velocityY = dy;
            
            // Animate the particle
            function animateParticle() {
                posX += dx;
                velocityY += gravity;
                posY += velocityY;
                opacity -= 0.02;
                scale -= 0.01;
                
                if (opacity <= 0) {
                    particle.remove();
                    return;
                }
                
                particle.style.left = `${posX}px`;
                particle.style.top = `${posY}px`;
                particle.style.opacity = opacity;
                particle.style.transform = `scale(${scale})`;
                
                requestAnimationFrame(animateParticle);
            }
            
            requestAnimationFrame(animateParticle);
        }
        
        // Celebration function for the button
        function celebrate() {
            // Highlight confetti
            const confettiElements = document.querySelectorAll('.star, .streamer, .dot, .squiggle');
            confettiElements.forEach(element => {
                element.style.opacity = '1';
                setTimeout(() => {
                    element.style.opacity = '0.8';
                }, 1000);
            });
            
            // Add more background balloons
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    createFloatingBalloon(document.getElementById('background-balloons'), i);
                }, i * 200);
            }
            
            // Button effect
            const button = document.querySelector('.button');
            button.style.transform = 'scale(1.1)';
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 200);
        }
        
        // Celebrate and then navigate to the next page
        function celebrateAndNavigate() {
            // Celebration effects
            celebrate();
            
            setTimeout(function() {
                // Navigate to 'massage.html'
                window.location.href = 'massage.html';
            }, 1500); // 1.5 second delay before navigation
        }
        
        // Fungsi untuk menjalankan audio otomatis
        function initAudio() {
            const bgMusic = document.getElementById('bgMusic');
            
            // Mencoba memutar audio secara otomatis
            bgMusic.play().catch(function(error) {
                console.log("Autoplay was prevented: ", error);
                
                // Menambahkan event listener untuk memainkan audio saat pengguna berinteraksi
                document.addEventListener('click', function audioActivate() {
                    bgMusic.play();
                    document.removeEventListener('click', audioActivate);
                }, { once: true });
            });
        }
        
        // Initialize the page
        window.onload = function() {
            createConfettiElements();
            createBackgroundBalloons();
            
            // Add floating animation to main balloons
            const balloons = document.querySelectorAll('.balloon');
            balloons.forEach((balloon, index) => {
                balloon.style.animation = `float ${4 + index * 0.5}s infinite`;
            });
            
            // Inisialisasi audio
            initAudio();
        };
    </script>
</body>
</html>